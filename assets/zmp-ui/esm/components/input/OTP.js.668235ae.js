import{c as d}from"../../../../clsx/dist/clsx.m.js.babdd28a.js";import{R as F}from"../../../../react/index.js.fa086085.js";import{u as q}from"../../hooks/useMergedState.js.0b784872.js";import{g as O}from"../../utils/class.js.5fbce117.js";import{a as z,j as v}from"../../../../swiper/swiper-react.mjs.f94d42e3.js";import{r as n}from"../../../../react/index.js_commonjs-module.8c7d3518.js";var S=F.forwardRef(function(t,L){var u=t.disabled,C=t.otpLength,l=C===void 0?4:C,b=t.show,P=b===void 0?!1:b,V=t.defaultValue,m=t.onChange,$=t.value,p=t.readOnly,I=t.className,j=t.style,M=t.id,o=F.useRef(null),x=O("input"),r=O("input-otp"),_=q(V||"",{value:$}),i=_[0],w=_[1],y=n.exports.useState(!1),B=y[0],N=y[1],R=n.exports.useState(null),T=R[0],c=R[1],f=n.exports.useCallback(function(){var a;u||p||(N(!0),(a=o.current)==null||a.focus())},[u,p]),h=n.exports.useCallback(function(a){var e=i.length;a&&e>a&&e-a<=1?c(a):c(e===l?e-1:e)},[i,l]),A=n.exports.useCallback(function(a){var e=a.target.value;e.length<=l&&(w(e),c(e.length),m==null||m(a))},[l,w,m]),H=n.exports.useCallback(function(a){h(a),f()},[h,f]);return n.exports.useImperativeHandle(L,function(){return{el:o.current,focus:function(){h(),f()},blur:function(){var e;(e=o.current)==null||e.blur()}}}),z("div",{className:d(r+"-wrapper"),children:[v("input",{type:"number",inputMode:"numeric",pattern:"[0-9]*",autoComplete:"one-time-code",maxLength:l,ref:o,disabled:u,onFocus:function(){return f()},onBlur:function(){return N(!1)},value:i,onChange:A,readOnly:p,className:d(r+"-hidden-input"),id:M}),v("div",{className:d(r+"-list"),children:Array(l).fill("").map(function(a,e){var s,g=i.slice(e,e+1),k=T===e&&B;return v("div",{role:"presentation",onClick:function(){return H(e)},className:d(x,r,(s={},s[x+"-disabled"]=u,s[r+"-active"]=k&&!u,s[r+"-cursor"]=k&&!g&&!u,s),I),style:j,children:g?P?g:v("span",{className:r+"-dot"}):""},e)})})]})});S.defaultProps={otpLength:4,show:!1};var W=S;export{W as O};
