import{R as I}from"../react/index.js.fa086085.js";import{S as K}from"./shared/swiper-core.mjs.8ecc475a.js";import{g as M,m as Q,a as X,u as Y}from"./shared/update-on-virtual-data.mjs.785cc61c.js";import{u as W,w as Z,n as ee,b as re,a as te,e as _,c as se}from"./shared/update-swiper.mjs.8339ff39.js";import"../react/jsx-runtime.js.08641f08.js";import{j as B}from"../react/jsx-runtime.js_commonjs-module.059cf985.js";import{r as t}from"../react/index.js_commonjs-module.8c7d3518.js";const w=B.exports.jsx,E=B.exports.jsxs,ne=B.exports.Fragment;function q(s){return s.type&&s.type.displayName&&s.type.displayName.includes("SwiperSlide")}function D(s){const r=[];return I.Children.toArray(s).forEach(o=>{q(o)?r.push(o):o.props&&o.props.children&&D(o.props.children).forEach(n=>r.push(n))}),r}function oe(s){const r=[],o={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]};return I.Children.toArray(s).forEach(n=>{if(q(n))r.push(n);else if(n.props&&n.props.slot&&o[n.props.slot])o[n.props.slot].push(n);else if(n.props&&n.props.children){const p=D(n.props.children);p.length>0?p.forEach(l=>r.push(l)):o["container-end"].push(n)}else o["container-end"].push(n)}),{slides:r,slots:o}}function ae(s,r,o){if(!o)return null;const n=i=>{let a=i;return i<0?a=r.length+i:a>=r.length&&(a=a-r.length),a},p=s.isHorizontal()?{[s.rtlTranslate?"right":"left"]:`${o.offset}px`}:{top:`${o.offset}px`},{from:l,to:c}=o,h=s.params.loop?-r.length:0,y=s.params.loop?r.length*2:r.length,g=[];for(let i=h;i<y;i+=1)i>=l&&i<=c&&g.push(r[n(i)]);return g.map((i,a)=>I.cloneElement(i,{swiper:s,style:p,key:i.props.virtualIndex||i.key||`slide-${a}`}))}function P(s,r){return typeof window=="undefined"?t.exports.useEffect(s,r):t.exports.useLayoutEffect(s,r)}const F=t.exports.createContext(null),ie=t.exports.createContext(null),le=t.exports.forwardRef(function(s,r){let{className:o,tag:n="div",wrapperTag:p="div",children:l,onSwiper:c,...h}=s===void 0?{}:s,y=!1;const[g,i]=t.exports.useState("swiper"),[a,d]=t.exports.useState(null),[C,j]=t.exports.useState(!1),z=t.exports.useRef(!1),x=t.exports.useRef(null),e=t.exports.useRef(null),R=t.exports.useRef(null),$=t.exports.useRef(null),k=t.exports.useRef(null),b=t.exports.useRef(null),N=t.exports.useRef(null),L=t.exports.useRef(null),{params:f,passedParams:T,rest:H,events:v}=M(h),{slides:S,slots:O}=oe(l),A=()=>{j(!C)};Object.assign(f.on,{_containerClasses(u,m){i(m)}});const V=()=>{Object.assign(f.on,v),y=!0;const u={...f};if(delete u.wrapperClass,e.current=new K(u),e.current.virtual&&e.current.params.virtual.enabled){e.current.virtual.slides=S;const m={cache:!1,slides:S,renderExternal:d,renderExternalUpdate:!1};_(e.current.params.virtual,m),_(e.current.originalParams.virtual,m)}};x.current||V(),e.current&&e.current.on("_beforeBreakpoint",A);const U=()=>{y||!v||!e.current||Object.keys(v).forEach(u=>{e.current.on(u,v[u])})},G=()=>{!v||!e.current||Object.keys(v).forEach(u=>{e.current.off(u,v[u])})};t.exports.useEffect(()=>()=>{e.current&&e.current.off("_beforeBreakpoint",A)}),t.exports.useEffect(()=>{!z.current&&e.current&&(e.current.emitSlidesClasses(),z.current=!0)}),P(()=>{if(r&&(r.current=x.current),!!x.current)return e.current.destroyed&&V(),Q({el:x.current,nextEl:k.current,prevEl:b.current,paginationEl:N.current,scrollbarEl:L.current,swiper:e.current},f),c&&!e.current.destroyed&&c(e.current),()=>{e.current&&!e.current.destroyed&&e.current.destroy(!0,!1)}},[]),P(()=>{U();const u=X(T,R.current,S,$.current,m=>m.key);return R.current=T,$.current=S,u.length&&e.current&&!e.current.destroyed&&se({swiper:e.current,slides:S,passedParams:T,changedParams:u,nextEl:k.current,prevEl:b.current,scrollbarEl:L.current,paginationEl:N.current}),()=>{G()}}),P(()=>{Y(e.current)},[a]);function J(){return f.virtual?ae(e.current,S,a):S.map((u,m)=>I.cloneElement(u,{swiper:e.current,swiperSlideIndex:m}))}return w(n,{ref:x,className:W(`${g}${o?` ${o}`:""}`),...H,children:E(ie.Provider,{value:e.current,children:[O["container-start"],E(p,{className:Z(f.wrapperClass),children:[O["wrapper-start"],J(),O["wrapper-end"]]}),ee(f)&&E(ne,{children:[w("div",{ref:b,className:"swiper-button-prev"}),w("div",{ref:k,className:"swiper-button-next"})]}),re(f)&&w("div",{ref:L,className:"swiper-scrollbar"}),te(f)&&w("div",{ref:N,className:"swiper-pagination"}),O["container-end"]]})})});le.displayName="Swiper";const ue=t.exports.forwardRef(function(s,r){let{tag:o="div",children:n,className:p="",swiper:l,zoom:c,lazy:h,virtualIndex:y,swiperSlideIndex:g,...i}=s===void 0?{}:s;const a=t.exports.useRef(null),[d,C]=t.exports.useState("swiper-slide"),[j,z]=t.exports.useState(!1);function x(k,b,N){b===a.current&&C(N)}P(()=>{if(typeof g!="undefined"&&(a.current.swiperSlideIndex=g),r&&(r.current=a.current),!(!a.current||!l)){if(l.destroyed){d!=="swiper-slide"&&C("swiper-slide");return}return l.on("_slideClass",x),()=>{!l||l.off("_slideClass",x)}}}),P(()=>{l&&a.current&&!l.destroyed&&C(l.getSlideClasses(a.current))},[l]);const e={isActive:d.indexOf("swiper-slide-active")>=0,isVisible:d.indexOf("swiper-slide-visible")>=0,isPrev:d.indexOf("swiper-slide-prev")>=0,isNext:d.indexOf("swiper-slide-next")>=0},R=()=>typeof n=="function"?n(e):n,$=()=>{z(!0)};return E(o,{ref:a,className:W(`${d}${p?` ${p}`:""}`),"data-swiper-slide-index":y,onLoad:$,...i,children:[c&&w(F.Provider,{value:e,children:E("div",{className:"swiper-zoom-container","data-swiper-zoom":typeof c=="number"?c:void 0,children:[R(),h&&!j&&w("div",{className:"swiper-lazy-preloader"})]})}),!c&&E(F.Provider,{value:e,children:[R(),h&&!j&&w("div",{className:"swiper-lazy-preloader"})]})]})});ue.displayName="SwiperSlide";export{le as S,E as a,ue as b,w as j};
