import{_ as k}from"../../../../@babel/runtime/helpers/esm/extends.js.5eda35e5.js";import{_ as B}from"../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js.d71f5ffe.js";import{R as t}from"../../../../react/index.js.fa086085.js";import{c as I}from"../../../../clsx/dist/clsx.m.js.babdd28a.js";import{I as M}from"./Input.js.0a841e2a.js";import{g as j}from"../../utils/class.js.5fbce117.js";import{S as L}from"./icons/search-outlined.js.0bf7ca63.js";import{c as T}from"../../utils/ref.js.630486f4.js";import{B as W}from"../button/index.js.d25d5fd6.js";import{S as q}from"../../config-provider/SizeContext.js.49f76d0f.js";var A=["className","suffix","loading","disabled","size","onSearch","onChange","onCompositionStart","onCompositionEnd"],F=t.forwardRef(function(e,h){var s,S=e.className,p=e.suffix,x=e.loading,u=e.disabled,g=e.size,r=e.onSearch,f=e.onChange,d=e.onCompositionStart,v=e.onCompositionEnd,E=B(e,A),b=t.useContext(q),l=t.useRef(!1),i=g||b,c=t.useRef(null),z=function(n){n&&n.target&&n.type==="click"&&r&&r(n.target.value,n),f&&f(n)},N=function(n){var o;document.activeElement===((o=c.current)==null?void 0:o.input)&&n.preventDefault()},C=function(n){if(r){var o;r(((o=c.current)==null||(o=o.input)==null?void 0:o.value)||"",n)}},O=function(n){l.current||C(n)},m=j("input-search"),P=t.createElement(L,null),R=m+"-button",w=t.createElement(W,{className:R,variant:"tertiary",type:"neutral",disabled:u,key:"enterButton",onMouseDown:N,onClick:C,loading:x,icon:P,size:i}),y=I(m,(s={},s[m+"-"+i]=!!i,s),S),D=function(n){l.current=!0,d==null||d(n)},_=function(n){l.current=!1,v==null||v(n)};return t.createElement(M,k({ref:T(c,h),onPressEnter:O},E,{size:i,label:"",helperText:"",onCompositionStart:D,onCompositionEnd:_,prefix:w,suffix:p,onChange:z,className:y,disabled:u}))}),$=F;export{$ as S};
