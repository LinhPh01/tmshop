import{_ as Q}from"../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js.d71f5ffe.js";import{R as P}from"../../../../react/index.js.fa086085.js";import{c as U}from"../../../../clsx/dist/clsx.m.js.babdd28a.js";import{t as X,r as _}from"./utils/commonUtils.js.1c4f312d.js";import{o as Y}from"../../utils/omit.js.de633d80.js";import{u as Z}from"../../hooks/useMergedState.js.0b784872.js";import{g as ee}from"../../utils/class.js.5fbce117.js";import{a as te,g as re}from"../../utils/statusUtils.js.61bb84b8.js";import{D as ne}from"../../config-provider/DisabledContext.js.f66d4e1c.js";import{S as ae}from"../../config-provider/SizeContext.js.49f76d0f.js";import{C as ue}from"./ClearableLabeledBaseInput.js.e57e9b0f.js";import{j as D}from"../../../../swiper/swiper-react.mjs.f94d42e3.js";import{r as a}from"../../../../react/index.js_commonjs-module.8c7d3518.js";var se=["onChange","onFocus","onBlur","onPressEnter","onKeyDown","type","disabled","className","inputClassName","defaultValue","status","size"],F=a.exports.forwardRef(function(t,I){var d=t.onChange,v=t.onFocus,g=t.onBlur,p=t.onPressEnter,C=t.onKeyDown,x=t.type,T=x===void 0?"text":x,z=t.disabled,h=t.className,B=t.inputClassName,K=t.defaultValue,$=t.status,V=t.size,j=Q(t,se),u=ee("input"),b=Z(K,{value:t.value}),R=b[0],w=b[1],S=a.exports.useState(!1),k=S[0],i=S[1],r=a.exports.useRef(null),c=function(e){r.current&&X(r.current,e)},A=P.useContext(ae),N=V||A,M=P.useContext(ne),o=z||M,L="",f=te(L,$),y=a.exports.useRef([]),m=function(){y.current.push(window.setTimeout(function(){var e,s;if(r.current&&((e=r.current)==null?void 0:e.getAttribute("type"))==="password"&&(s=r.current)!=null&&s.hasAttribute("value")){var l;(l=r.current)==null||l.removeAttribute("value")}}))};a.exports.useImperativeHandle(I,function(){return{focus:c,blur:function(){var e;(e=r.current)==null||e.blur()},setSelectionRange:function(e,s,l){var E;(E=r.current)==null||E.setSelectionRange(e,s,l)},select:function(){var e;(e=r.current)==null||e.select()},input:r.current}}),a.exports.useEffect(function(){i(function(n){return n&&o?!1:n})},[o]),a.exports.useEffect(function(){return m(),function(){return y.current.forEach(function(n){return window.clearTimeout(n)})}},[]);var W=function(e){t.value===void 0&&w(e.target.value),r.current&&_(r.current,e,d)},H=function(e){p&&e.key==="Enter"&&p(e),C==null||C(e)},O=function(e){i(!0),m(),v==null||v(e)},q=function(e){i(!1),m(),g==null||g(e)},G=function(e){w(""),c(),r.current&&_(r.current,e,d)},J=function(){var e,s=Y(t,["onPressEnter","prefix","suffix","clearable","status","helperText","errorText","size","defaultValue","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","onInputTriggerClick"]);return D("input",{...s,onChange:W,onFocus:O,onBlur:q,onKeyDown:H,className:U(u,(e={},e[u+"-small"]=N==="small",e[u+"-large"]=N==="large",e[u+"-disabled"]=o,e),(!!R||f==="error")&&re(u,f),B,h),ref:r,type:T})};return D(ue,{...j,prefixCls:u,className:h,inputElement:J(),handleReset:G,value:R,focused:k,triggerFocus:c,disabled:o||void 0,status:f})});F.defaultProps={onInputTriggerClick:void 0};var be=F;export{be as I};
