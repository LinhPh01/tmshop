import{_ as Q}from"../../../../@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js.d71f5ffe.js";import{R as D}from"../../../../react/index.js.fa086085.js";import{c as T}from"../../../../clsx/dist/clsx.m.js.babdd28a.js";import{t as U,r as _}from"./utils/commonUtils.js.1c4f312d.js";import{o as X}from"../../utils/omit.js.de633d80.js";import{u as Y}from"../../hooks/useMergedState.js.0b784872.js";import{g as F}from"../../utils/class.js.5fbce117.js";import{a as Z,g as ee}from"../../utils/statusUtils.js.61bb84b8.js";import{D as te}from"../../config-provider/DisabledContext.js.f66d4e1c.js";import{S as re}from"../../config-provider/SizeContext.js.49f76d0f.js";import{C as ae}from"./ClearableLabeledBaseInput.js.e57e9b0f.js";import{j as y}from"../../../../swiper/swiper-react.mjs.f94d42e3.js";import{r as n}from"../../../../react/index.js_commonjs-module.8c7d3518.js";var ne=["onChange","onFocus","onBlur","onPressEnter","onKeyDown","disabled","className","defaultValue","status","size"],ue=n.exports.forwardRef(function(a,z){var d=a.onChange,v=a.onFocus,x=a.onBlur,g=a.onPressEnter,h=a.onKeyDown,B=a.disabled,i=a.className,K=a.defaultValue,A=a.status,V=a.size,$=Q(a,ne),u=F("input"),C=F("input-textarea"),I=T(C,i),p=Y(K,{value:a.value}),b=p[0],w=p[1],R=n.exports.useState(!1),j=R[0],f=R[1],t=n.exports.useRef(null),c=function(e){t.current&&U(t.current,e)},M=D.useContext(re),S=V||M,W=D.useContext(te),o=B||W,L="",N=Z(L,A),E=n.exports.useRef([]),m=function(){E.current.push(window.setTimeout(function(){var e,s;if(t.current&&((e=t.current)==null?void 0:e.getAttribute("type"))==="password"&&(s=t.current)!=null&&s.hasAttribute("value")){var l;(l=t.current)==null||l.removeAttribute("value")}}))};n.exports.useImperativeHandle(z,function(){return{focus:c,blur:function(){var e;(e=t.current)==null||e.blur()},setSelectionRange:function(e,s,l){var P;(P=t.current)==null||P.setSelectionRange(e,s,l)},select:function(){var e;(e=t.current)==null||e.select()},textarea:t.current}}),n.exports.useEffect(function(){f(function(r){return r&&o?!1:r})},[o]),n.exports.useEffect(function(){return m(),function(){return E.current.forEach(function(r){return window.clearTimeout(r)})}},[]);var k=function(e){a.value===void 0&&w(e.target.value),t.current&&_(t.current,e,d)},H=function(e){g&&e.key==="Enter"&&g(e),h==null||h(e)},O=function(e){f(!0),m(),v==null||v(e)},q=function(e){f(!1),m(),x==null||x(e)},G=function(e){w(""),c(),t.current&&_(t.current,e,d)},J=function(){var e,s=X(a,["onPressEnter","prefix","suffix","clearable","status","helperText","errorText","size","defaultValue","affixWrapperClassName","groupClassName","inputClassName","wrapperClassName","showCount"]);return y("textarea",{...s,onChange:k,onFocus:O,onBlur:q,onKeyDown:H,className:T(u,(e={},e[u+"-small"]=S==="small",e[u+"-large"]=S==="large",e[u+"-disabled"]=o,e),!!b&&ee(u,N),I,i),ref:t})};return y(ae,{...$,prefixCls:u,className:i,inputElement:J(),handleReset:G,value:b,focused:j,triggerFocus:c,disabled:o||void 0,status:N,affixWrapperClassName:C+"-affix-wrapper"})}),pe=ue;export{pe as T};
