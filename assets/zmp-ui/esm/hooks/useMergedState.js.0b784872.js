import{R as x}from"../../../react/index.js.fa086085.js";import{u as g}from"./useEvent.js.95167c49.js";import{u as C}from"./useLayoutUpdateEffect.js.ced3ad19.js";import{r as V}from"../../../react/index.js_commonjs-module.8c7d3518.js";var n=function(t){return t[t.INNER=0]="INNER",t[t.PROP=1]="PROP",t}(n||{});function v(t){return t!==void 0}function S(t,E){var f=E||{},i=f.defaultValue,a=f.value,m=f.onChange,s=f.postState,c=V.exports.useState(function(){var e,r;return v(a)?(e=a,r=n.PROP):v(i)?(e=typeof i=="function"?i():i,r=n.PROP):(e=typeof t=="function"?t():t,r=n.INNER),[e,r,e]}),o=c[0],l=c[1],R=v(a)?a:o[0],h=s?s(R):R;C(function(){v(a)&&l(function(e){var r=e[0];return[a,n.PROP,r]})},[a]);var p=x.useRef(),d=g(function(e){l(function(r){var u=r[0],y=r[1],P=r[2],N=typeof e=="function"?e(u):e;if(N===u)return r;var O=y===n.INNER&&p.current!==P?P:u;return[N,n.INNER,O]})}),I=g(m);return V.exports.useLayoutEffect(function(){var e=o[0],r=o[1],u=o[2];e!==u&&r===n.INNER&&(I(e,u),p.current=u)},[o]),[h,d]}export{S as u};
