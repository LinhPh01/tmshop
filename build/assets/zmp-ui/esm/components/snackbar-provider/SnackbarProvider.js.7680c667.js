import{R as de}from"../../../../react/index.js.fa086085.js";import{c as o}from"../../../../clsx/dist/clsx.m.js.babdd28a.js";import{a as u,S as z}from"./props-type.js.42bac557.js";import{S as me}from"./context.js.05e22d28.js";import{g as Se}from"../../utils/class.js.5fbce117.js";import{B as pe}from"./BaseSnackbar.js.3b5187c1.js";import{a as be,c as F,D as V,d as _e}from"./common/constants.js.300f2e57.js";import{a as ke,j as B}from"../../../../swiper/swiper-react.mjs.f94d42e3.js";import{r as t}from"../../../../react/index.js_commonjs-module.8c7d3518.js";import{C as Te}from"../../../../react-transition-group/esm/CSSTransition.js.9af520fd.js";var H=de.forwardRef(function(n,M){var i,c,l,v,_=t.exports.useState(!1),x=_[0],s=_[1],k=t.exports.useState(!1),W=k[0],T=k[1],I=t.exports.useState(null),Y=I[0],$=I[1],A=t.exports.useState(""),q=A[0],G=A[1],E=t.exports.useState(!1),J=E[0],K=E[1],N=t.exports.useState(null),Q=N[0],X=N[1],C=t.exports.useState(u.default),f=C[0],Z=C[1],D=t.exports.useState(z.bottom),d=D[0],ee=D[1],P=t.exports.useState(f===u.countdown?be:F),m=P[0],te=P[1],S=t.exports.useRef(),O=t.exports.useState(),y=O[0],ae=O[1],R=t.exports.useState(),re=R[0],se=R[1],w=t.exports.useState(!1),ne=w[0],oe=w[1],g=t.exports.useState(0),ue=g[0],U=g[1];t.exports.useImperativeHandle(M,function(){return S.current});var p=t.exports.useCallback(function(e){var b=e.type,fe=e.position;G((e==null?void 0:e.text)||""),K(!!(e!=null&&e.icon)),X(e==null?void 0:e.prefixIcon),Z(b||u.default),te((e==null?void 0:e.duration)||F),ee(fe||V),se(e==null?void 0:e.action),oe(!!(e!=null&&e.verticalAction)),ae(function(){return e==null?void 0:e.onClose}),U(0)},[]),L=t.exports.useCallback(function(e){x===!0?(s(!1),setTimeout(function(){p(e),s(!0)},_e)):(p(e),s(!0))},[x,p]),h=t.exports.useCallback(function(){s(!1)},[]),j=t.exports.useCallback(function(e){U(e)},[]),r=Object.values(z).includes(d)?d:V,a=Se("snackbar"),ie=t.exports.useMemo(function(){return{openSnackbar:L,closeSnackbar:h,setDownloadProgress:j}},[L,h,j]),ce=n.children,le=n.className,ve=n.style,xe=n.zIndex;return ke(me.Provider,{value:ie,children:[ce,B(Te,{in:x,timeout:{enter:100,exit:100,appear:100},mountOnEnter:!0,unmountOnExit:!0,onEntered:function(){return T(!0)},onExited:function(){return T(!1)},onEnter:function(){clearTimeout(Y);var b=f===u.countdown?m+1e3:m;$(setTimeout(function(){s(!1)},b))},onExit:function(){y==null||y()},classNames:{enter:o(a+"-enter",(i={},i[a+"-enter-"+r]=r,i)),enterActive:o(a+"-enter-active",(c={},c[a+"-enter-active-"+r]=r,c)),exitActive:o(a+"-exit-active",(l={},l[a+"-exit-active-"+r]=r,l))},nodeRef:S,children:B(pe,{ref:S,position:d,text:q,action:re,icon:J,type:f,prefixIcon:Q,duration:m,style:ve,className:o(a,le,(v={},v[a+"-"+r+"-visible"]=W,v)),verticalAction:ne,downloadProgress:ue,zIndex:xe})})]})});H.displayName="zaui-snackbar-provider";var we=H;export{we as S};
